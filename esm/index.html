<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESM Page</title>
    <script type="module">
        import './webcomponents/index.js'
        import bar from './libs/bar.js'

        const buttonElement = document.querySelector('button')
        const counterElement = document.querySelector('my-counter')
        const helloWorldElement = document.querySelector('hello-world-component')

        bar()

        const maxCounterHandler = (counter) => {
            helloWorldElement?.setAttribute('alert', `${counter}`)
        }
        
        const clearAlert = () => {
            helloWorldElement?.removeAttribute('alert')
        }

        buttonElement.addEventListener('click', clearAlert)

        counterElement.addEventListener('max-count', (event) => {
            const { counter } = event.detail
            maxCounterHandler(counter)
        })
    </script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>ESM Page</h1>
    <div id="app">
        <hello-world name="Ninja"></hello-world>
        <my-counter initial="4"></my-counter>
        <hello-world-component></hello-world-component>
        <button>CLEAR</button>
    </div>
</body>
</html>